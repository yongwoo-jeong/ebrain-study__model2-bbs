<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="article.ArticleMapper">
  <select id="selectAllArticle" resultType="article.Article" parameterType="Map">
    SELECT * FROM article
      WHERE title like '%${keyword}%' AND
            category_id IN <foreach item="category" index="index" collection="categories"
                            open="(" separator="," close=")"> ${category.value}</foreach>
      ORDER BY article_id DESC
      LIMIT ${articleLimitFrom}, ${articleLimitTo}
  </select>
  <insert id="insertArticle" parameterType="article.Article">
    INSERT INTO article ( title, writer, password, content, created_at, category_id)
      VALUES ("${title}", "${writer}", "${password}", "${content}", NOW(), ${categoryId})
  </insert>
</mapper>